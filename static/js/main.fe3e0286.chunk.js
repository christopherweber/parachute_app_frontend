(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,a){e.exports=a.p+"static/media/animated-clouds.0fb06dfb.png"},35:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAQAAACR313BAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfiDB4SNwkUF7IKAAAAz0lEQVQY04XOMUtCARiF4cewtvLCHaIhoRtCi+EWSKM4h3D/woWWkJbmRvf6Gxk0+g/EOWioNdDBlhoK+hquoBDWOx2+F875gB3Priy59CKFqgx7Mif2bYIvpw4ceYUQbjw49yGE8O7CnVshLE5js0UKYWZcpopP99ZxxhypQhdNhSa6CinmpW4JQ/SFPoZCC/MqmBp4xMTABENPprDhH/4sL3Ui10ZDroG2XLLUh0au0TPSW20ut7d1HKOuo/57e0tmFzWZ2qqr+Pa29u3kB55TSipuqAy4AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE4LTEyLTMwVDE3OjU1OjA5KzAxOjAw21W9YgAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOC0xMi0zMFQxNzo1NTowOSswMTowMKoIBd4AAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC"},46:function(e,t,a){e.exports=a.p+"static/media/para-guy.e3603caa.png"},47:function(e,t,a){e.exports=a.p+"static/media/plane.5e9ee66b.png"},51:function(e,t,a){e.exports=a(97)},56:function(e,t,a){},58:function(e,t,a){},97:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),l=a(19),r=a.n(l),c=(a(56),a(58),a(3)),o=a(4),s=a(6),u=a(5),h=a(7),m=a(43),d=a(33),p=a.n(d),f=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).handleLike=function(e,t){fetch("http://localhost:3000/flights/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:1,cityTo:t.cityTo,deep_link:t.deep_link,cityFrom:t.cityFrom})}).then(function(e){return console.log(e)})},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.flight;return i.a.createElement("div",null,i.a.createElement("div",{className:"flight-display-divs"},i.a.createElement("div",{className:"flight-details"},t.airlines.map(function(e){return i.a.createElement("img",{className:"airline",src:"https://images.kiwi.com/airlines/64/".concat(e,".png"),alt:""})}),i.a.createElement("div",{className:"flying"},t.cityFrom," \u2192 ",t.cityTo," "),i.a.createElement("div",{className:"fly-duration"},t.fly_duration," "),i.a.createElement("div",{className:"price"},"$",this.props.convert(t.conversion.EUR)),i.a.createElement("div",{className:"time"},i.a.createElement("div",null,p.a.unix(t.dTime).format("LLL")),i.a.createElement("div",null,p.a.unix(t.aTime).format("LLL"))),i.a.createElement("div",{className:"direct-option"},1===t.route.length?i.a.createElement("p",null,"Direct"):i.a.createElement("p",null,"Non-Direct")),i.a.createElement("div",{className:"deep-link"},i.a.createElement("a",{target:"_blank",href:t.deep_link},"Book Flight")),i.a.createElement("button",{className:"like-btn",onClick:function(a){return e.handleLike(a,t)}},"Save"))))}}]),t}(i.a.Component),g=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).convert=function(e){return Math.round(1.35*e)},a.isDirectFlight=function(e){return!(!a.props.direct||1!==e.route.length)||(!a.props.direct||!(a.props.direct&&e.route.length>1)&&void 0)},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.flights.slice(0,50).filter(function(t){return e.props.price>e.convert(t.conversion.EUR)&&e.isDirectFlight(t)});return console.log(this.props.price),i.a.createElement("div",{className:"main-flight-div"},t.slice(0,15).map(function(t){return i.a.createElement(f,{flight:t,convert:e.convert})}))}}]),t}(i.a.Component),E=a(26),v=a.n(E),A=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"loader"}))}}]),t}(n.Component),b={jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12};var y=function(e){var t=e.split(" ").slice(0,4);return[t[2],(a=t[1],a=a.toLowerCase(),b[a]),t[3]].join("/");var a},j=a(36),O=a(35),k=a.n(O),C=(a(71),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={to:"",from:"",depart:"",return:"",flights:[],price:"",startDate:"",endDate:"",isLoading:!1,direct:!1},a.handleStartDateChange=function(e){a.setState({startDate:y(e.toString())})},a.handleEndDateChange=function(e){a.setState({endDate:y(e.toString())})},a.handleSubmit=function(e){e.preventDefault(),a.getFlights()},a.convertDate=function(e){function t(e){return e<10?"0"+e:e}var a=new Date(e);return[t(a.getDate()),t(a.getMonth()+1),a.getFullYear()].join("/")},a.handleChange=function(e){a.setState(Object(m.a)({},e.target.name,e.target.value))},a.getFlights=function(){var e="",t="";3===a.state.to.length?(e=a.state.from.split(" ").join("-").toUpperCase(),t=a.state.to.split(" ").join("-").toUpperCase()):(e=a.state.from.split(" ").join("-").toLowerCase(),t=a.state.to.split(" ").join("-").toLowerCase()),a.setState({isLoading:!0}),fetch("https://api.skypicker.com/flights?&flyFrom=".concat(e,"&to=").concat(t,"&dateFrom=").concat(a.state.startDate,"&dateTo=").concat(a.state.endDate,"&partner=picky")).then(function(e){return e.json()}).then(function(e){console.log(e),a.setState({flights:e.data,isLoading:!1}),Object(E.goToAnchor)("section1")})},a.handleCheck=function(e){a.setState({direct:e.target.checked})},a.handleDate=function(e){console.log(e)},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.state),console.log("Flights:",this.state.flights),console.log(this.state.startDate),console.log(this.state.endDate),i.a.createElement("div",{className:"form-style-5"},i.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)}},i.a.createElement("input",{className:"origin-field",type:"text",name:"from",value:this.state.from,onChange:function(t){return e.handleChange(t)},placeholder:"\ud83d\udeeb  City or airport code of origin",required:!0}),i.a.createElement("input",{type:"text",name:"to",onChange:function(t){return e.handleChange(t)},placeholder:"\ud83d\udeec  City or airport code of destination",required:!0}),i.a.createElement("div",{className:"calendars"},i.a.createElement("div",null,i.a.createElement("img",{src:k.a})),i.a.createElement(j.a,{className:"departing",dateFormat:"dd/MM/yyyy",value:this.state.startDate,onChange:this.handleStartDateChange,required:!0}),i.a.createElement("div",null,i.a.createElement("img",{src:k.a})),i.a.createElement(j.a,{dateFormat:"dd/MM/yyyy",value:this.state.endDate,onChange:this.handleEndDateChange,required:!0})),i.a.createElement("div",{className:"price-range"},i.a.createElement("input",{type:"range",id:"start",name:"price",min:"0",max:"1500",placeholder:"0",onChange:function(t){return e.handleChange(t)}}),i.a.createElement("div",null,i.a.createElement("output",null," ",this.state.price," USD")),i.a.createElement("div",{className:"checkbox-input"},i.a.createElement("p",{className:"direct"},"Direct:"),i.a.createElement("input",{type:"checkbox",name:"tick",id:"tick",onChange:this.handleCheck}),i.a.createElement("label",{for:"tick",className:"tick_label"})),i.a.createElement("button",{className:"submit-button"},"Search"))),i.a.createElement("div",null,this.state.isLoading&&i.a.createElement(A,null),i.a.createElement(v.a,{id:"section1",className:"ok-here"},i.a.createElement(g,{flights:this.state.flights,price:this.state.price,direct:this.state.direct}))))}}]),t}(i.a.Component)),N=a(46),w=a.n(N),D=a(29),S=a.n(D),L=a(47),F=a.n(L),T=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("img",{src:S.a,className:"cloud-img-1"}),i.a.createElement("img",{src:F.a,className:"plane"}),i.a.createElement("div",{ref:"dude",className:"parachute",onKeyDown:function(e){"ArrowUp"===e.key||"ArrowDown"===e.key||"ArrowLeft"===e.key||e.key},tabIndex:"0"},i.a.createElement("img",{src:w.a,className:"parachute-guy"})),i.a.createElement("div",{className:"small-cloud-div"},i.a.createElement("img",{src:S.a,className:"small-cloud-img-2"})),i.a.createElement("div",{className:"small-cloud"},i.a.createElement("img",{src:S.a,className:"small-cloud-img"})))}}]),t}(n.Component),x=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{id:"main-page"},i.a.createElement("h1",null,"Parachute"),i.a.createElement(T,null),i.a.createElement(C,null))}}]),t}(i.a.Component),B=a(100),U=a(98),M=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement("nav",{role:"navigation",className:"navbar"},i.a.createElement("div",{id:"menuToggle"},i.a.createElement("input",{type:"checkbox"}),i.a.createElement("span",null),i.a.createElement("span",null),i.a.createElement("span",null),i.a.createElement("ul",{id:"menu"},i.a.createElement("a",{href:"#"},i.a.createElement("li",null,i.a.createElement(U.a,{to:"/home"},"Home"))),i.a.createElement("li",null,i.a.createElement(U.a,{to:"login"},"Login")),i.a.createElement("li",null,i.a.createElement(U.a,{to:"/savedflights"},"Saved flights")))))}}]),t}(i.a.Component),R=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).handleClick=function(e,t){console.log("The id of the flight is ",t.flight.id),a.props.handleDelete(t.flight.id)},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement("div",null),i.a.createElement("div",{className:"liked-flight-display-divs"},i.a.createElement("p",{className:"liked-flight-cities"},this.props.flight["city-from"]," \u2192 ",this.props.flight["city-to"]),i.a.createElement("p",{className:"liked-flight-price"},this.props.flight.price),i.a.createElement("div",{className:"liked-deep-link"},i.a.createElement("a",{target:"_blank",href:this.props.flight["deep-link"]},"Book Flight")),i.a.createElement("button",{className:"btn",onClick:function(t,a){return e.props.handleDelete(t,e.props.flight.id)}},i.a.createElement("a",{className:"btn-a",href:""},"DELETE"),i.a.createElement("div",{class:"hoverBtn"},i.a.createElement("p",{class:"hoverText"},"ARE YOU SURE?")))))}}]),t}(n.Component),P=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={flights:[],flightDeleted:!1},a.handleDelete=function(e,t){console.log(t),fetch("http://localhost:3000/flights/".concat(t),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){a.fetchthePlanes()})},a.fetchthePlanes=function(){fetch("http://localhost:3000/users/1").then(function(e){return e.json()}).then(function(e){return a.setState({flights:e.data.relationships.flights.data})},function(){return console.log(a.state.flights)})},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){console.log("hello from did mounty"),this.fetchthePlanes()}},{key:"render",value:function(){var e=this;return this.state.flights.length>1?this.state.flights.map(function(t){return i.a.createElement(R,{flight:t,flights:e.state.flights,handleDelete:e.handleDelete})}):i.a.createElement("div",null,i.a.createElement("h1",{className:"no-saved-flights"},"No saved flights "),i.a.createElement(U.a,{className:"redirect",to:"/home"},"Back to search"))}}]),t}(i.a.Component),W=a(16),Z=(a(73),a(75),a(48)),I=a.n(Z),Q=a(49),q=a.n(Q),J=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).state={user:null},e.widget=new I.a({baseUrl:"https://dev-844749.oktapreview.com",clientId:"0oaijj0thvZ0pBRzU0h7",redirectUri:"http://localhost:3000",authParams:{responseType:"id_token"}}),e.showLogin=e.showLogin.bind(Object(W.a)(Object(W.a)(e))),e.logout=e.logout.bind(Object(W.a)(Object(W.a)(e))),e}return Object(h.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.widget.session.get(function(t){"INACTIVE"!==t.status?e.setState({user:t.login}):e.showLogin()})}},{key:"showLogin",value:function(){var e=this;q.a.history.stop(),this.widget.renderEl({el:this.loginContainer},function(t){e.setState({user:t.claims.email})},function(e){console.log(e)})}},{key:"logout",value:function(){var e=this;this.widget.signOut(function(){e.setState({user:null}),e.showLogin()})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,this.state.user?i.a.createElement("div",{className:"container"},i.a.createElement("div",null,"Welcome, ",this.state.user,"!"),i.a.createElement("button",{onClick:this.logout},"Logout")):null,this.state.user?null:i.a.createElement("div",{ref:function(t){e.loginContainer=t}}))}}]),t}(i.a.Component),K=a(101),Y=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(M,null),i.a.createElement(K.a,null,i.a.createElement(B.a,{exact:!0,path:"/",component:x}),i.a.createElement(B.a,{path:"/home",component:x}),i.a.createElement(B.a,{path:"/savedflights",component:P}),i.a.createElement(B.a,{path:"/login",component:J})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _=a(99);r.a.render(i.a.createElement(_.a,null,i.a.createElement(Y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[51,2,1]]]);
//# sourceMappingURL=main.fe3e0286.chunk.js.map